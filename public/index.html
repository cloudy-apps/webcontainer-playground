<link
  rel="stylesheet"
  href="https://cdnjs.cloudflare.com/ajax/libs/tailwindcss/2.2.19/tailwind.min.css"
/>
<script src="https://unpkg.com/codemirror@5.59.4/lib/codemirror.js"></script>
<link
  rel="stylesheet"
  href="https://unpkg.com/codemirror@5.59.4/lib/codemirror.css"
/>
<script src="https://unpkg.com/xterm@4.15.0/lib/xterm.js"></script>
<link rel="stylesheet" href="https://unpkg.com/xterm@4.15.0/lib/xterm.css" />

<div id="app" class="flex h-screen">
  <div id="editor" class="w-1/2 h-full p-4 border-r"></div>
  <div id="terminal" class="w-1/2 h-full p-4"></div>
</div>

<script type="module">
  import { WebContainer, FileSystemTree } from "https://unpkg.com/@webcontainer/api@1.1.5/dist/index.js";

  async function main() {
    const webcontainer = await WebContainer.boot();
    await webcontainer.mount([]);
    window.wc = webcontainer;
  }

  async function ui() {
    const codeMirror = CodeMirror(document.getElementById("editor"), {
      lineNumbers: true,
      theme: "dracula",
    });

    const term = new Terminal();
    term.open(document.getElementById("terminal"));
    term.fit();

    window.ui = { term, codeMirror };
  }

  window.addEventListener("DOMContentLoaded", () => {
    main();
    ui();
  });
</script>
